{"version":3,"file":"main.js","mappings":"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","sources":["./src/app/app.component.ts","./src/app/app.component.html","./src/app/app.module.ts","./src/app/phaser/components/break.ts","./src/app/phaser/components/dial.ts","./src/app/phaser/components/gears.ts","./src/app/phaser/components/speedometer.ts","./src/app/phaser/components/steer.ts","./src/app/phaser/constants.ts","./src/app/phaser/game.scene.ts","./src/app/phaser/phaser.component.ts","./src/app/phaser/utils.ts","./src/environments/environment.ts","./src/main.ts"],"sourcesContent":["import { Component } from '@angular/core';\r\n\r\n\r\n@Component({\r\n  selector: 'app-root',\r\n  templateUrl: './app.component.html',\r\n  styleUrls: ['./app.component.css']\r\n})\r\n\r\nexport class AppComponent {\r\n  title = 'blockly-angular-sample';\r\n\r\n\r\n}\r\n","<router-outlet></router-outlet>\r\n","import { BrowserModule } from '@angular/platform-browser';\r\nimport { NgModule } from '@angular/core';\r\n\r\nimport { AppComponent } from './app.component';\r\nimport { HttpClientModule } from '@angular/common/http';\r\n\r\nimport { RouterModule, Routes } from '@angular/router';\r\n\r\nimport { BrowserAnimationsModule } from '@angular/platform-browser/animations';\r\nimport { PhaserComponent } from './phaser/phaser.component';\r\n\r\nconst routes: Routes = [\r\n  {path:'' , component:PhaserComponent},\r\n\r\n]\r\n\r\n@NgModule({\r\n    declarations: [\r\n        AppComponent,\r\n         PhaserComponent,\r\n    ],\r\n    imports: [\r\n        BrowserModule,\r\n        HttpClientModule,\r\n        RouterModule.forRoot(routes),\r\n    ],\r\n    bootstrap: [AppComponent],\r\n    exports: [PhaserComponent]\r\n})\r\nexport class AppModule { }\r\n","import Phaser from \"phaser\";\r\nimport { scaleToGameW, scaleToGameZone, setPos } from \"../utils\";\r\n\r\nexport default class Break extends Phaser.GameObjects.Mesh {\r\n\r\n  debug;\r\n  zone;\r\n  ptrId;\r\n  constructor (scene, conf){\r\n    super(scene, conf.x, conf.y , 'break',);\r\n    Phaser.Geom.Mesh.GenerateGridVerts({\r\n      texture : 'break',\r\n      mesh: this,\r\n      widthSegments : 6,\r\n    });\r\n    this.scene.add.existing(this);\r\n    this.scaleToGameW(this , conf.w);\r\n    setPos(scene, this, conf.x, conf.y);\r\n\r\n    this.zone= this.scene.add.zone(this.x , this.y , this.displayWidth,this.displayHeight).setOrigin(0)\r\n                .setInteractive();\r\n    scaleToGameZone(scene, this.zone, conf.zw, conf.zh)\r\n    setPos(scene, this.zone, conf.zx, conf.zy)\r\n\r\n    this.zone.on('pointerdown', this.handlePointerDown , this);\r\n  }\r\n\r\n  private handlePointerDown(e) {\r\n    this.ptrId = e.id;\r\n    this.scene.input.on('pointermove' , this.handlePointerMove, this);\r\n    this.scene.input.on('pointerup' , this.handlePointerUp, this);\r\n    console.log(\"hello\")\r\n  }\r\n\r\n  \r\n  private handlePointerMove(e) {\r\n    if(this.ptrId == e.id) {\r\n      console.log(\"there\")\r\n      const rotateRate = 1,\r\n      xuplim = 1,\r\n      xlowlim = 0\r\n      let val = e.velocity.y * (rotateRate / 600);\r\n      let ldiff = xlowlim - this.modelRotation.x;\r\n      let udiff = xuplim - this.modelRotation.x;\r\n      if( ldiff < val && udiff > val ) {\r\n        this.modelRotation.x += val;\r\n      }\r\n    }\r\n  }\r\n  private handlePointerUp(e) {\r\n    if (this.ptrId == e.id) {\r\n      this.scene.input.off('pointermove')\r\n      this.scene.input.off('pointerup')\r\n      this.ptrId == null;\r\n    }\r\n  }\r\n\r\n\r\n  public scaleToGameW(obj, per) {\r\n    obj.displayWidth = Number(this.scene.sys.game.config.width) * per;\r\n    obj.scaleY = obj.scaleX;\r\n    var q = 2.5*Number(this.scene.sys.game.config.width) / 915;\r\n    obj.panZ(q);\r\n  }\r\n  // public scaleToGameZone(perW , perH) {\r\n  //   this.zone.displayWidth = Number(this.scene.sys.game.config.width) * perW;\r\n  //   this.zone.displayHeight = Number(this.scene.sys.game.config.height) * perH;\r\n  // }\r\n  // setPos(obj, x: number, y: number) {\r\n  //   obj.setPosition(Number(this.scene.sys.game.config.width) * x, Number(this.scene.sys.game.config.height) * y);\r\n  // }\r\n}","import * as utils from \"../utils\";\r\nimport * as Phaser from \"phaser\";\r\n\r\nexport class Dial extends Phaser.GameObjects.Container {\r\n  externalArc;\r\n  radius = 55;\r\n  startAngle = 180;\r\n  endAngle = 360;\r\n  noOfTicks = 6;\r\n  smallTick = {\r\n    w: 10,\r\n    h: 6,\r\n  };\r\n  sprite;\r\n  prevRad;\r\n  steerPtr;\r\n  rad;\r\n  ang = this.startAngle;\r\n  selected = 0;\r\n  angleInterval = (this.endAngle - this.startAngle) / (this.noOfTicks - 1);\r\n  tween;\r\n  intervalId;\r\n  constructor(scene, config) {\r\n    super(scene, 0, 0);\r\n    this.sprite = new Phaser.GameObjects.Sprite(scene, 0, 0, \"dial\")\r\n      .setOrigin(0.5, 0.48)\r\n      .setInteractive()\r\n      .setAngle(this.ang)\r\n      .setScale(0.7)\r\n      .on(\"pointerdown\", this.onPointerDown);\r\n    this.externalArc = new Phaser.GameObjects.Arc(\r\n      scene,\r\n      0,\r\n      0,\r\n      this.radius,\r\n      this.startAngle,\r\n      this.endAngle,\r\n      false\r\n    );\r\n\r\n    this.drawTicks();\r\n\r\n    utils.scaleToGameContainer(scene, this, this.sprite, config);\r\n    this.add([this.sprite, this.externalArc]);\r\n    scene.add.existing(this);\r\n  }\r\n\r\n  setCustomScale(factor) {\r\n    this.setScale(this.scale*factor)\r\n  }\r\n\r\n  drawTicks() {\r\n    for (let i = this.startAngle; i <= this.endAngle; i += this.angleInterval) {\r\n      const point = this.getPointOnArc(this, this.externalArc, i);\r\n      let rect = this.scene.add.rectangle(\r\n        point.x,\r\n        point.y,\r\n        this.smallTick.w,\r\n        this.smallTick.h,\r\n        0xc9c9c9\r\n      );\r\n      rect.setOrigin(0.5, 0.5);\r\n      rect.setAngle(i);\r\n      rect.depth = 1;\r\n      this.add(rect);\r\n    }\r\n  }\r\n\r\n  createTwin() {\r\n    this.tween = this.scene.add.tween({\r\n      targets: this.sprite,\r\n      angle: this.startAngle,\r\n      duration: 2000,\r\n      paused: true,\r\n      repeat: 0,\r\n      yoyo: false,\r\n      ease: Phaser.Math.Easing.Linear,\r\n      onUpdate: (val) => {\r\n        console.log(\"he\");\r\n        // this.ang = val.getValue();\r\n        // this.sprite.setAngle(this.ang);\r\n      },\r\n    });\r\n    // this.tween.resume();\r\n  }\r\n\r\n  getPointOnArc = (container, obj, angle: number): Phaser.Math.Vector2 => {\r\n    const radians = Phaser.Math.DegToRad(angle);\r\n    const scale = container.scaleX;\r\n    const x = obj.x * scale + Math.cos(radians) * obj.radius * scale;\r\n    const y = obj.y * scale + Math.sin(radians) * obj.radius * scale;\r\n    return new Phaser.Math.Vector2(x, y);\r\n  };\r\n\r\n  onPointerDown = (e) => {\r\n    let x = this.sprite.getCenter().x;\r\n    let y = this.sprite.getCenter().y;\r\n    let a = this.getLocalPoint(e.worldX, e.worldY);\r\n    this.prevRad = Phaser.Math.RadToDeg(\r\n      Phaser.Math.Angle.Between(a.x, a.y, x, y)\r\n    );\r\n    this.steerPtr = e.id;\r\n    this.scene.input.on(\"pointermove\", this.onPointerMove, this.sprite);\r\n    this.scene.input.on(\"pointerup\", this.onPointerUp, this.sprite);\r\n  };\r\n\r\n  onPointerMove = (e) => {\r\n    if (this.steerPtr == e.id) {\r\n      let x = this.sprite.getCenter().x;\r\n      let y = this.sprite.getCenter().y;\r\n      let a = this.getLocalPoint(e.worldX, e.worldY);\r\n      this.rad = Phaser.Math.RadToDeg(\r\n        Phaser.Math.Angle.Between(a.x, a.y, x, y)\r\n      );\r\n      //This factor allows for slow rotation of the dial for large movement of gesture\r\n      let factor = 0.3;\r\n      if (this.prevRad < 0 && this.rad > 0) {\r\n        this.ang -=\r\n          Math.abs(Math.abs(this.rad) - Math.abs(this.prevRad)) * factor;\r\n      } else if (this.prevRad > 0 && this.rad < 0) {\r\n        this.ang +=\r\n          Math.abs(Math.abs(this.rad) - Math.abs(this.prevRad)) * factor;\r\n      } else {\r\n        this.ang += (this.rad - this.prevRad) * factor;\r\n      }\r\n\r\n      if (this.ang < this.startAngle) {\r\n        this.ang += 1;\r\n      } else if (this.ang > this.endAngle) {\r\n        this.ang -= 1;\r\n      } else {\r\n        if (\r\n          this.ang >\r\n          this.startAngle +\r\n            this.selected * this.angleInterval +\r\n            this.angleInterval / 2\r\n        ) {\r\n          this.selected++;\r\n          let prev = this.ang;\r\n          this.ang = this.startAngle + this.selected * this.angleInterval;\r\n        } else if (\r\n          this.ang <\r\n          this.startAngle +\r\n            this.selected * this.angleInterval -\r\n            this.angleInterval / 2\r\n        ) {\r\n          this.selected--;\r\n          let prev = this.ang;\r\n          this.ang = this.startAngle + this.selected * this.angleInterval;\r\n        }\r\n        this.sprite.angle = this.ang;\r\n      }\r\n\r\n      this.prevRad = this.rad;\r\n    }\r\n  };\r\n\r\n  onPointerUp = (e) => {\r\n    if (this.steerPtr == e.id) {\r\n      this.scene.input.off(\"pointermove\");\r\n      this.scene.input.off(\"pointerup\");\r\n      this.ang = this.startAngle + this.selected * this.angleInterval;\r\n      this.sprite.angle = this.ang;\r\n      this.steerPtr = null;\r\n    }\r\n  };\r\n}\r\n","import * as Phaser from 'phaser';\r\n// import { gears as config }  from '../constants';\r\nimport * as utils from \"../utils\";\r\n\r\nexport class Gears extends Phaser.GameObjects.Container {\r\n  knob;\r\n  gear;\r\n  constructor(scene: Phaser.Scene, config) {\r\n    super(scene, config.x, config.y, );\r\n    const gearWidth    = 46,\r\n          gearHeight   = 295,\r\n          gearCount    = 3,\r\n          gearDistance = 35,\r\n          width        = gearCount * (gearWidth + gearDistance) - gearDistance,\r\n          height       = gearHeight,\r\n          xPos         = 120,\r\n          yPos         = 80;\r\n    const scaleFactor = Number(scene.sys.game.config.width) * 0.135 / width;\r\n    let ptrid = 0;\r\n    const bgImage = new Phaser.GameObjects.Image(scene, 0, 0, 'gearSet')\r\n      .setOrigin(0)\r\n      .setScale(1.5)\r\n    \r\n    this.knob = new Phaser.GameObjects.Sprite(scene , xPos + width/2, yPos + height/2, 'gearKnob')\r\n      .setInteractive()\r\n      .setOrigin(0.5)\r\n      .setScale(0.4)\r\n      .on('pointerdown', (e)=> {\r\n        this.getAll().map((obj)=>{\r\n          obj.setInteractive();\r\n        })\r\n        this.knob.disableInteractive();\r\n        ptrid = e.id;\r\n        scene.input.on('pointerup' , (e)=> {\r\n          if(e.id == ptrid) {\r\n            this.getAll().map((obj)=>{\r\n              obj.disableInteractive();\r\n            })\r\n            this.knob.setInteractive();\r\n            if (this.gear === \"\") {\r\n              this.knob.setPosition(xPos + width*0.5, yPos + height*0.5)\r\n            }\r\n          }\r\n        })\r\n      })\r\n    \r\n    const handlePointerMove = (e, localX, localY, obj) => {\r\n      let a = obj.getLocalPoint(e.worldX , e.worldY);\r\n      if (localY < obj.height*0.25) {\r\n        this.knob.setPosition( obj.x + obj.width*0.5 , obj.y + obj.height*0.125);\r\n        this.gear = obj.name + '1';\r\n      } else if(localY > obj.height*0.75) {\r\n        this.knob.setPosition(obj.x + obj.width*0.5 ,  obj.y + obj.height*0.875);\r\n        this.gear = obj.name + '2';\r\n      } else {\r\n        this.knob.setPosition(obj.x + a.x , obj.y + a.y)\r\n        this.gear = \"\";\r\n      }\r\n    }\r\n\r\n    const first = new Phaser.GameObjects.Zone(scene, xPos, yPos, gearWidth, gearHeight)\r\n      .setOrigin(0).setName(\"1\")\r\n      .on('pointermove', (pointer, localX, localY)=> {handlePointerMove(pointer, localX, localY, first)});\r\n    const second = new Phaser.GameObjects.Zone(scene, first.x + gearWidth+gearDistance, yPos, gearWidth, gearHeight)\r\n      .setOrigin(0).setName(\"2\")\r\n      .on('pointermove', (pointer, localX, localY)=> {handlePointerMove(pointer, localX, localY, second)});\r\n    const third = new Phaser.GameObjects.Zone(scene, second.x + gearWidth + gearDistance, yPos, gearWidth, gearHeight)\r\n      .setOrigin(0).setName(\"3\")\r\n      .on('pointermove', (pointer, localX, localY)=> {handlePointerMove(pointer, localX, localY, third)});\r\n      console.log((gearHeight*0.5-gearWidth*0.5))\r\n    const middle = new Phaser.GameObjects.Zone(scene, xPos, yPos + (gearHeight*0.5-gearWidth*0.5), width, gearWidth)\r\n      .setOrigin(0)\r\n      .on('pointermove', (e, localX, localY) => {\r\n        let a = middle.getLocalPoint(e.worldX , e.worldY);\r\n        this.gear = \"\";\r\n        if(a.x > (middle.width*0.5 - middle.height*0.5) && a.x < (middle.width*0.5 + middle.height*0.5)){\r\n          this.knob.setPosition(xPos + width*0.5, yPos + height*0.5);\r\n        }else {\r\n          this.knob.setPosition(middle.x + a.x , middle.y + a.y)\r\n        }\r\n      });\r\n\r\n    this.add([bgImage, first, second, third, middle, this.knob]);\r\n    scene.add.existing(this)\r\n    utils.setPos(scene, this, config.x, config.y);\r\n    this.setScale(scaleFactor * config.scale)\r\n  }\r\n}\r\n","import  * as utils  from './../utils';\r\n\r\nexport class Speedometer extends Phaser.GameObjects.Container {\r\n  public graphics;\r\n  interval = 20;\r\n  subInterval = 2;\r\n  maxSpeed = 200;\r\n  startAngle = 135;\r\n  endAngle = 360 + 45;\r\n  angleInterval =\r\n    ((this.endAngle - this.startAngle) * this.interval) / this.maxSpeed;\r\n  angleInterval1 =\r\n    ((this.endAngle - this.startAngle) * this.subInterval) / this.maxSpeed;\r\n\r\n  speed = 0;\r\n  circle;\r\n  radius = 400;\r\n  numberCircle;\r\n  ticksCircle;\r\n  externalArc;\r\n  smallInternalArc;\r\n  mytween;\r\n  graphics1;\r\n  smallTick = {\r\n    w: 10,\r\n    h: 3,\r\n  };\r\n  largeTick = {\r\n    w: 20,\r\n    h: 6,\r\n  };\r\n\r\n  speedText: Phaser.GameObjects.Text;\r\n  speedText1: Phaser.GameObjects.Text;\r\n  endCircle: Phaser.GameObjects.Arc;\r\n\r\n  constructor(scene, config) {\r\n    super(scene, 0, 0);\r\n    this.graphics = scene.add.graphics();\r\n    this.graphics1 = scene.add.graphics();\r\n    this.ticksCircle = new Phaser.GameObjects.Arc(\r\n      scene,\r\n      0,\r\n      0,\r\n      this.radius,\r\n      this.startAngle,\r\n      this.endAngle,\r\n      false\r\n    );\r\n    this.numberCircle = new Phaser.GameObjects.Arc(\r\n      scene,\r\n      0,\r\n      0,\r\n      this.radius - 90,\r\n      this.startAngle,\r\n      this.endAngle,\r\n      false\r\n    );\r\n    this.externalArc = new Phaser.GameObjects.Arc(\r\n      scene,\r\n      0,\r\n      0,\r\n      this.radius + 40,\r\n      this.startAngle,\r\n      this.endAngle,\r\n      false\r\n    );\r\n    this.smallInternalArc = new Phaser.GameObjects.Arc(\r\n      scene,\r\n      0,\r\n      0,\r\n      this.radius - 190,\r\n      this.startAngle + 30,\r\n      this.endAngle - 30,\r\n      false\r\n    );\r\n    this.speedText = new Phaser.GameObjects.Text(scene, -20, 0, \"136\", {\r\n      fontFamily: \"Segoe UI\",\r\n      fontSize: \"124px\",\r\n      color: \"#e9e9e9\",\r\n      fontStyle: \"bold\",\r\n    });\r\n    this.speedText1 = new Phaser.GameObjects.Text(scene, 135, 20, \"kmh\", {\r\n      fontFamily: \"Arial\",\r\n      fontSize: \"34px\",\r\n      color: \"#ff9401\",\r\n      fontStyle: \"bold\",\r\n    });\r\n    this.speedText.setOrigin(0.5);\r\n    this.speedText1.setOrigin(0.5);\r\n\r\n    this.graphics1.lineStyle(7, 0xa2a2a2, 1);\r\n    this.graphics1.beginPath();\r\n    this.graphics1.arc(\r\n      0,\r\n      0,\r\n      this.radius - 190,\r\n      Phaser.Math.DegToRad(this.startAngle + 30),\r\n      Phaser.Math.DegToRad(this.endAngle - 30),\r\n      false\r\n    );\r\n    this.graphics1.strokePath();\r\n\r\n    //Draw the small circle on the end of external arc\r\n    this.endCircle = new Phaser.GameObjects.Arc(\r\n      scene,\r\n      0,\r\n      0,\r\n      20,\r\n      0,\r\n      360,\r\n      false,\r\n      0xffffff\r\n    );\r\n\r\n    this.add([\r\n      this.ticksCircle,\r\n      this.numberCircle,\r\n      // this.endCircle,\r\n      this.externalArc,\r\n      this.smallInternalArc,\r\n      this.speedText,\r\n      this.speedText1,\r\n      this.graphics,\r\n      this.graphics1,\r\n    ]);\r\n\r\n    utils.scaleToGameContainer(scene, this, this.externalArc, config)\r\n\r\n    this.smallInternalArc.setStrokeStyle(7, 0xa2a2a2, 1);\r\n\r\n    //Draw numbers and ticks\r\n    let angle = this.startAngle;\r\n    for (let i = 0; i <= this.maxSpeed; i += this.interval) {\r\n      let point = this.getPointOnArc(this.numberCircle, angle);\r\n      let text = this.scene.add.text(point.x, point.y, i.toString(), {\r\n        fontSize: \"20px\",\r\n        color: \"#ffffff\",\r\n      });\r\n      text.setOrigin(0.5);\r\n\r\n      let point2 = this.getPointOnArc(this.ticksCircle, angle);\r\n      let rect = this.scene.add.rectangle(\r\n        point2.x,\r\n        point2.y,\r\n        this.largeTick.w,\r\n        this.largeTick.h,\r\n        0xffffff\r\n      );\r\n      rect.setOrigin(0.5, 0.5);\r\n      rect.setAngle(angle);\r\n      rect.depth = 2;\r\n      angle += this.angleInterval;\r\n    }\r\n    //Draw small ticks\r\n    angle = this.startAngle;\r\n    for (let i = 0; i <= this.maxSpeed; i += this.subInterval) {\r\n      let point2 = this.getPointOnArc(this.ticksCircle, angle);\r\n      let rect = this.scene.add.rectangle(\r\n        point2.x,\r\n        point2.y,\r\n        this.smallTick.w,\r\n        this.smallTick.h,\r\n        0xdd7f00\r\n      );\r\n      rect.setOrigin(0.5, 0.5);\r\n      rect.setAngle(angle);\r\n      rect.depth = 1;\r\n      angle += this.angleInterval1;\r\n      // this.endCircle.setPosition(point2.x, point2.y);\r\n    }\r\n    var tween = this.scene.tweens.addCounter({\r\n      from: 0,\r\n      to: this.maxSpeed,\r\n      duration: 3000,\r\n      paused: true,\r\n      yoyo: true,\r\n      repeat: -1,\r\n      ease: Phaser.Math.Easing.Linear,\r\n      onUpdate: (val) => {\r\n        this.speed = val.getValue();\r\n        let endAngle = this.startAngle +\r\n          ((this.endAngle - this.startAngle) * this.speed) / this.maxSpeed;\r\n        // this.speedText.setText(Math.round(this.speed).toString());\r\n        this.graphics.clear();\r\n        this.graphics.lineStyle(15, 0xff9401, 1);\r\n        this.graphics.beginPath();\r\n        this.graphics.arc(\r\n          this.externalArc.x,\r\n          this.externalArc.y,\r\n          this.externalArc.radius,\r\n          Phaser.Math.DegToRad(this.externalArc.startAngle),\r\n          Phaser.Math.DegToRad(endAngle),\r\n          false\r\n        );\r\n        this.graphics.strokePath();\r\n        let point = this.getPointOnArc(this.externalArc, endAngle);\r\n        // console.log(point.x, point.y)\r\n        // this.endCircle.setPosition(point.x - this.x, point.y - this.y);\r\n      },\r\n    });\r\n    tween.resume();\r\n    scene.add.existing(this);\r\n  }\r\n\r\n  public getPointOnArc(obj, angle: number): Phaser.Math.Vector2 {\r\n    const radians = Phaser.Math.DegToRad(angle);\r\n    const scale = this.scaleX;\r\n    const x = this.x + obj.x * scale + Math.cos(radians) * obj.radius * scale;\r\n    const y = this.y + obj.y * scale + Math.sin(radians) * obj.radius * scale;\r\n    return new Phaser.Math.Vector2(x, y);\r\n  }\r\n\r\n  // Override preUpdate method\r\n  preUpdate(time, delta) {\r\n    super.update(time, delta);\r\n    this.update();\r\n  }\r\n  update() {}\r\n}\r\n","import Phaser from \"phaser\";\r\nimport * as utils from \"../utils\";\r\nimport { steer as config } from \"../constants\"\r\n\r\nexport default class Steer extends Phaser.GameObjects.Sprite {\r\n  prevRad;\r\n  steerPtr;\r\n  rad;\r\n  steerTwin;\r\n  steerSpeed: number = 10;\r\n  ang = 0;\r\n  constructor(scene:Phaser.Scene, texture){\r\n    super(scene, 0, 0, texture);\r\n    this.setOrigin(0.5, 0.5)\r\n        .setInteractive()\r\n        .on('pointerdown', this.onPointerDown)\r\n        .scene.add.existing(this);\r\n    utils.scaleToGameW(scene , this , config.w);\r\n    utils.setPos(scene , this, config.x, config.y);\r\n  }\r\n\r\n  onPointerDown(e) {\r\n   if(this.steerTwin != undefined){\r\n      this.steerTwin.stop();\r\n   }\r\n   let x = this.getCenter().x\r\n   let y = this.getCenter().y\r\n   this.prevRad = Phaser.Math.RadToDeg(Phaser.Math.Angle.Between(e.x,e.y , x,y ));\r\n   this.steerPtr = e.id;\r\n   this.scene.input.on('pointermove', this.onPointerMove, this);\r\n   this.scene.input.on('pointerup', this.onPointerUp, this);\r\n  }\r\n\r\n  onPointerMove(e){\r\n    if (this.steerPtr == e.id) {\r\n      let x = this.getCenter().x\r\n      let y = this.getCenter().y\r\n      this.rad = Phaser.Math.RadToDeg(Phaser.Math.Angle.Between(e.x,e.y , x,y ));\r\n      if (this.prevRad < 0 && this.rad > 0) {\r\n         this.ang-= Math.abs(Math.abs(this.rad) - Math.abs(this.prevRad));\r\n      } else if (this.prevRad > 0 && this.rad < 0) {\r\n        this.ang += Math.abs(Math.abs(this.rad) - Math.abs(this.prevRad));\r\n      } else {\r\n        this.ang += this.rad - this.prevRad;\r\n      }\r\n      this.angle = this.ang;\r\n      this.prevRad = this.rad;\r\n\r\n    }\r\n  }\r\n\r\n  onPointerUp(e){\r\n    if (this.steerPtr == e.id) {\r\n      this.scene.input.off('pointermove')\r\n      this.scene.input.off('pointerup')\r\n      this.steerPtr = null;\r\n      this.steerTwin = this.scene.tweens.addCounter({\r\n        from: this.ang,\r\n        to: 0,\r\n        duration: Math.abs(this.ang * this.steerSpeed),\r\n        repeat: 0,\r\n        ease: Phaser.Math.Easing.Quadratic.Out,\r\n        onUpdate: (tween) => \r\n        {\r\n            this.ang = tween.getValue()\r\n            this.setAngle( tween.getValue());\r\n        },\r\n        \r\n    });\r\n    }\r\n  }\r\n}","export const gearsConf = {\r\n  x: 0.42, \r\n  y: 0.08,\r\n  scale: 0.5\r\n}\r\n\r\nexport const breakConf = {\r\n  x: 0.1,\r\n  y: 0.7,\r\n  w: 0.15,\r\n  zx: 0.105,\r\n  zy: 0.5,\r\n  zw: 0.1,\r\n  zh: 0.45\r\n}\r\n\r\nexport const gasConf = {\r\n  x: 0.2,\r\n  y: 0.7,\r\n  w: 0.15,\r\n  zx: 0.205,\r\n  zy: 0.5,\r\n  zw: 0.1,\r\n  zh: 0.45\r\n}\r\n\r\nexport const steer = {\r\n  x: 0.8,\r\n  y: 0.7,\r\n  w: 0.3\r\n}\r\n\r\nexport const dialConf = {\r\n  x: 0.2,\r\n  y: 0.3,\r\n  w: 0.08\r\n}\r\n\r\nexport const speedometerConf = {\r\n  x: 0.5,\r\n  y: 0.7,\r\n  w: 0.25\r\n}\r\n\r\n","import { Injectable } from \"@angular/core\";\r\nimport * as Phaser from \"phaser\";\r\nimport Break from \"./components/break\";\r\nimport Steer from \"./components/steer\";\r\nimport { Gears } from \"./components/gears\";\r\nimport { breakConf, gasConf, dialConf, speedometerConf, gearsConf } from \"./constants\";\r\nimport { Speedometer } from \"./components/speedometer\";\r\nimport { Dial } from \"./components/dial\";\r\n\r\n@Injectable()\r\nexport class GameScene extends Phaser.Scene {\r\n  private steer: Phaser.GameObjects.Sprite;\r\n  private break: Break;\r\n  private gas: Break;\r\n  private gears: Gears;\r\n  private speedometer: Speedometer;\r\n  private ledKnob: Dial;\r\n\r\n  constructor() {\r\n    super({ key: \"GameScene\" });\r\n  }\r\n\r\n  preload() {\r\n    this.load.svg(\r\n      \"steeringWheel\",\r\n      \"https://upload.wikimedia.org/wikipedia/commons/7/7b/Steering-wheel.svg\",\r\n      { width: 300, height: 300 }\r\n    );\r\n    this.load.svg(\"break\", \"assets/break.svg\", { width: 300, height: 300 });\r\n    this.load.svg(\"gas\", \"assets/gas.svg\", { width: 300, height: 300 });\r\n    this.load.svg(\"gearSet\", \"assets/gear.svg\", { width: 300, height: 300 });\r\n    this.load.image(\"dial\", \"assets/dial.png\");\r\n    this.load.svg(\"gearKnob\", \"assets/gear_knob.svg\", {\r\n      width: 300,\r\n      height: 300,\r\n    });\r\n    this.load.obj(\"skull\", \"assets/breakObj2.obj\");\r\n  }\r\n\r\n  create() {\r\n    this.steer = new Steer(this, 'steeringWheel');\r\n    this.gas = new Break(this, gasConf);\r\n    this.break = new Break(this, breakConf);\r\n    this.gears = new Gears(this, gearsConf);\r\n    this.speedometer = new Speedometer(this, speedometerConf);\r\n    this.ledKnob = new Dial(this, dialConf);\r\n  }\r\n\r\n}\r\n","import { Component, OnInit } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\nimport { GameScene } from './game.scene';\n\n@Component({\n  selector: 'app-game',\n  template: '<div #game></div>',\n  styleUrls: ['./phaser.component.css']\n})\n\nexport class PhaserComponent implements OnInit {\n  private steeringWheel;\n  private game: Phaser.Game;\n\n  constructor(private http: HttpClient) { }\n\n  ngOnInit() {\n    this.game = new Phaser.Game({\n      type: Phaser.AUTO,\n      parent: 'game',\n      // width: 1200,\n      // height: 600,\n      scene: GameScene,\n      backgroundColor: \"#0000FF\",\n      scale: {\n        mode: Phaser.Scale.FIT,\n        parent: 'game',\n        autoCenter: Phaser.Scale.CENTER_BOTH,\n        width: window.innerWidth,\n        height: window.innerHeight\n      },\n      input: {\n        activePointers: 2,\n\n      },\n      physics:{\n        default:'matter'\n      }\n    });\n    this.game.input.addPointer(3);\n\n    window.onresize = () => {\n      this.game.scale.setGameSize(window.innerWidth, window.innerHeight);\n      this.game.scale.refresh();\n    };\n\n  }\n\n\n\n\n\n}\n","\r\nexport function scaleToGameW(scene , obj, per) {\r\n  obj.displayWidth = Number(scene.sys.game.config.width) * per;\r\n  obj.scaleY = obj.scaleX;\r\n}\r\nexport function scaleToGameR(scene , obj, per) {\r\n  obj.radius = Number(scene.sys.game.config.width) * per;\r\n  obj.scaleY = obj.scaleX;\r\n}\r\nexport function setPos(scene ,obj , x: number, y: number) {\r\n  obj.setPosition(Number(scene.sys.game.config.width) * x, Number(scene.sys.game.config.height) * y);\r\n}\r\n\r\nexport const scaleToGameZone = (scene, obj, perW, perH) => {\r\n  obj.displayWidth = Number(scene.sys.game.config.width) * perW;\r\n  obj.displayHeight = Number(scene.sys.game.config.height) * perH;\r\n}\r\n\r\nexport const getPointOnArc = (container, obj, angle: number): Phaser.Math.Vector2 => {\r\n  const radians = Phaser.Math.DegToRad(angle);\r\n  const scale = container.scaleX;\r\n  const x = container.x + obj.x * scale + Math.cos(radians) * obj.radius * scale;\r\n  const y = container.y + obj.y * scale + Math.sin(radians) * obj.radius * scale;\r\n  return new Phaser.Math.Vector2(x, y);\r\n}\r\n\r\nexport const scaleToGameContainer = (scene, obj, refObj, config) => {\r\n  setPos(scene, obj, config.x, config.y)\r\n  let prev = refObj.scale;\r\n  scaleToGameW(scene, refObj, config.w);\r\n  let after = refObj.scale;\r\n  refObj.setScale(prev)\r\n  obj.setScale(after / prev);\r\n}","// This file can be replaced during build by using the `fileReplacements` array.\r\n// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.\r\n// The list of file replacements can be found in `angular.json`.\r\n\r\nexport const environment = {\r\n  production: true\r\n};\r\n\r\n/*\r\n * For easier debugging in development mode, you can import the following file\r\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\r\n *\r\n * This import should be commented out in production mode because it will have a negative impact\r\n * on performance if an error is thrown.\r\n */\r\n// import 'zone.js/dist/zone-error';  // Included with Angular CLI.\r\n","import { enableProdMode } from '@angular/core';\r\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\r\n\r\nimport { AppModule } from './app/app.module';\r\nimport { environment } from './environments/environment';\r\n\r\nif (environment.production) {\r\n  enableProdMode();\r\n}\r\n\r\nplatformBrowserDynamic().bootstrapModule(AppModule)\r\n  .catch(err => console.error(err));\r\n"],"names":["AppComponent","selectors","decls","vars","template","i0","BrowserModule","HttpClientModule","RouterModule","PhaserComponent","routes","path","component","AppModule","bootstrap","forRoot","declarations","imports","i1","exports","Phaser","scaleToGameZone","setPos","Break","scene","conf","x","y","Geom","Mesh","GenerateGridVerts","texture","mesh","widthSegments","add","existing","scaleToGameW","w","zone","displayWidth","displayHeight","setOrigin","setInteractive","zw","zh","zx","zy","on","handlePointerDown","e","ptrId","id","input","handlePointerMove","handlePointerUp","console","log","rotateRate","xuplim","xlowlim","val","velocity","ldiff","modelRotation","udiff","off","obj","per","Number","sys","game","config","width","scaleY","scaleX","q","panZ","GameObjects","utils","Dial","h","startAngle","endAngle","noOfTicks","container","angle","radians","Math","DegToRad","scale","cos","radius","sin","Vector2","sprite","getCenter","a","getLocalPoint","worldX","worldY","prevRad","RadToDeg","Angle","Between","steerPtr","onPointerMove","onPointerUp","rad","factor","ang","abs","selected","angleInterval","prev","Sprite","setAngle","setScale","onPointerDown","externalArc","Arc","drawTicks","scaleToGameContainer","i","point","getPointOnArc","rect","rectangle","smallTick","depth","tween","targets","duration","paused","repeat","yoyo","ease","Easing","Linear","onUpdate","Container","Gears","gearWidth","gearHeight","gearCount","gearDistance","height","xPos","yPos","scaleFactor","ptrid","bgImage","Image","knob","getAll","map","disableInteractive","gear","setPosition","localX","localY","name","first","Zone","setName","pointer","second","third","middle","Speedometer","interval","maxSpeed","subInterval","graphics","graphics1","ticksCircle","numberCircle","smallInternalArc","speedText","Text","fontFamily","fontSize","color","fontStyle","speedText1","lineStyle","beginPath","arc","strokePath","endCircle","setStrokeStyle","text","toString","point2","largeTick","angleInterval1","tweens","addCounter","from","to","speed","getValue","clear","resume","time","delta","update","steer","Steer","steerTwin","undefined","stop","steerSpeed","Quadratic","Out","gearsConf","breakConf","gasConf","dialConf","speedometerConf","GameScene","key","load","svg","image","gas","break","gears","speedometer","ledKnob","Scene","factory","http","Game","type","AUTO","parent","backgroundColor","mode","Scale","FIT","autoCenter","CENTER_BOTH","window","innerWidth","innerHeight","activePointers","physics","default","addPointer","onresize","setGameSize","refresh","consts","scaleToGameR","perW","perH","refObj","after","environment","production","enableProdMode","__NgCli_bootstrap_1","bootstrapModule","catch","error","err"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}